<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>6Fussion | Lupa Password</title>
    <link rel="stylesheet" href="/css/f-pass.css" />
    <link rel="stylesheet" href="/css/global.css" />
  </head>
  <body>
    <div class="container">
      <div class="left-panel">
        <h1>FORGOT PASSWORD</h1>
        <img src="/assets/gif/ninja_minum.gif" alt="ninja_minum" class="ninja_minum" />
      </div>
      <div class="right-panel">
        <form id="forgot-password" class="forgot-password">
          <label for="email">Email</label><br />
          <input
            type="email"
            id="email"
            placeholder="example123@gmail.com"
            required
          /><br />
          <button type="submit" class="button-f">Reset Password</button>
        </form>
      </div>
    </div>

    <!-- Firebase CDN -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
      import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyBY5RLqhhp1IJJGdiKBQEOHTDoSPwvx8ZM",
        authDomain: "fussion-proyek-dpw.firebaseapp.com",
        projectId: "fussion-proyek-dpw",
        storageBucket: "fussion-proyek-dpw.appspot.com",
        messagingSenderId: "301956673407",
        appId: "1:301956673407:web:5d2bf8749996c113cf344a",
        measurementId: "G-CBS2216ZFG"
      };

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      document.getElementById("forgot-password").addEventListener("submit", async function (e) {
        e.preventDefault();

        const email = document.getElementById("email").value.trim();

        try {
          await sendPasswordResetEmail(auth, email);
          alert("Link reset password telah dikirim ke email Anda.");
        } catch (error) {
          console.error("Reset error:", error);
          alert("Terjadi kesalahan: " + error.message);
        }
      });
    </script>
  </body>
</html>
